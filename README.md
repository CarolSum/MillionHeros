# Million Heros

一款去中心化益智竞赛系统

## 选题构思与背景
记得在我初中的时候看过一个形式很新颖有趣的益智节目，部分内容是这样的：每一期节目中会有大概十个人参与，其中有1位是守擂者，其他为挑战者；参与者的年龄、身份、文化层次各异，可以说是随机的；守擂者手中有着一定价值的奖品，挑战者通过20秒的限时答题与守擂者PK，如果胜利则淘汰守擂者，奖品从守擂者手中转移到挑战者手中，并且该挑战者成为新的守擂者接受下一轮挑战，只有成功撑过五轮挑战的人，才可以带着奖品离开；或者他也可以选择继续接受挑战，直到再次撑过五轮带着更多的奖品离开。而PK则是通过抢答题目的形式进行。

我的想法是实现一个去中心化益智竞赛系统，在这个系统上用户可以选择参与感兴趣的答题竞赛（不同竞赛可能会有不同的主题），然后完成竞赛中的所有题目。第一个正确回答所有问题且耗时最短的用户将获得对应竞赛的胜利！作为一个益智类系统，竞赛中的题目类型涉及社会、科学、历史、文学、音乐等各个领域。用户可以在这个系统上受到各种知识的熏陶；这既是一个紧张刺激的比赛“游戏”，又是充满知识文化的科普App。主体功能如下:

### 发起竞赛

发起方可以通过上传题目信息发起一次有奖竞赛，并许诺最终冠军将得到预先设定的奖励金。在发起比赛的同时需要预先缴纳保证金，设定竞赛的截止时间。这里不需要设置开始时间，因为用户的耗时是从参与竞赛那一刻开始算的。竞赛在结束的时候会公布最后赢家。

### 参与竞赛

用户可以浏览当前链上存在的竞赛，可以选择自己想参与的竞赛，然后需要缴纳一定的报名费。成功报名参加之后用户的耗时会开始记录，如果遇到不会的题可以在网上搜索答案，不过那必然会导致耗时增加。比赛结束后可以查看到整个竞赛的数据，包括参与的用户及正确答案.

## 接口设计：

### 答题方：
浏览正在进行的所有比赛：包括比赛的标题，发起者，结束时间，（简介？），参与条件，奖励

用户参加竞赛：记录用户id，比赛id，用户参与时间，用户支付金额

已参与的用户可以获取题目列表（所有题目都是选择题）：判断用户是否有访问权限，然后返回所有题目数据，

用户提交回答（只能提交一次）：提供包含 "1: A, 2: B" 这种形式的字符串

当某个比赛达到截止时间后进行检验（未在规定时间内完成提交的用户视为放弃）：对于每个用户的提交和标准答案字符串比较，选择第一个完成时间戳最早且正确率最高的用户作为胜利者。

用户可以查看自己参与的所有比赛：通过用户address查看他参与的所有比赛，返回比赛列表（标题，是否结束，截止时间，奖励金等）

用户查看自己参与的某次比赛：用户提交前只能看到比赛信息（就是正常做题界面），提交之后就可以看到一些统计信息，比如当前该比赛参与的人数，完成提交的人数，比赛结束后可以在这里看到题目解答。


### 发起方：
发起竞赛：用户需要支付一定费用（目前是大于100wei才能发起竞赛），并提供相应的比赛信息

比赛的结构：
```
{
  title: '比赛名称',  // string
  desc: '简介',  // string
  sponsor: '发起者',  // address, 用户地址
  deadline: 100000,  // uint, 时间戳
  cost: 50,  // uint 参与费用
  bonus: 50,   // uint 奖励金
  content: "[
    {
      title: '这是第一道题的题目',    // 题目
      choice:['aaa','bbb','ccc','ddd']  // 选项
    },
  ]",    // string 比赛的所有题目
  answer: "{problemId:choicId}", // string 比赛答案
  ...
  isFinished: bool,
  winner: '胜利者'  // address 胜利玩家
}
```

查看用户发起的所有比赛：通过用户address查到他发起的所有比赛，返回比赛列表（标题，是否结束，截止时间，奖励金等）

用户查看自己发起的某次比赛：除了必要的比赛信息之外，还包括一些统计信息，比如当前该比赛参与的人数，完成提交的人数，题目解析等。